#summary Getting Started with implementing SocialAuth

= Getting Started =

== Step 1. Prerequisites ==
Authenticating using the external oAuth providers requires that we register our application with the providers and obtain a key/secret from them that will be configured in our application. So following steps are needed to be set up before we can begin.

  # Public domain - You will need a public domain for testing. You should have a public domain because most of the providers require a public domain to be specified when you register an application with them. You can do some testing on your development machine but it will be quite limited.
  # Get the API Keys: You can get the API keys from the following URLs. 
    * Google [Google (show screenshot)] - http://code.google.com/apis/accounts/docs/RegistrationForWebAppsAuto.html 
    * Yahoo [Yahoo (show screenshot)] - https://developer.apps.yahoo.com/dashboard/createKey.html
    * Twitter  - http://twitter.com/apps
    * Facebook  - http://www.facebook.com/developers/apps.php
    * Hotmail [Hotmail (show screenshot)] - http://msdn.microsoft.com/en-us/library/cc287659.aspx
    * FourSquare - [FourSquare (show screenshot)] - https://foursquare.com/oauth/
    * MySpace - [MySpace (show screenshot)] - http://developer.myspace.com/Apps.mvc
    * Linkedin - [Linkedin (show screenshot)] - https://www.linkedin.com/secure/developer
If you want to use our keys, that is also possible. [HowToRunApplicationWithLocalhostOnWindows Have a look How to use.]

== Step 2. Getting the library ==

You can either download our pre-built jars or use Maven to integrate socialauth in your project. If you prefer to download, following are the files that you would need to download:
<table border=1 cellspacing=0 cellpadding=3>
  <tr>
    <th>Application Type</th><th colspan=3>Jars Required</th>
  </tr>
  <tr>
    <td>Generic / Struts Application</td><td>[http://socialauth.googlecode.com/files/socialauth-1.2-beta1.jar socialauth-1.2-beta1.jar]</td><td>[http://socialauth.googlecode.com/files/dependencies-1.2.zip dependencies-1.2.zip]</td><td></td>
  </tr>
  <tr>
    <td>Spring Application</td><td>[http://socialauth.googlecode.com/files/socialauth-1.2-beta1.jar socialauth-1.2-beta1.jar]</td><td>[http://socialauth.googlecode.com/files/dependencies-1.2.zip dependencies-1.2.zip]</td><td>[http://socialauth.googlecode.com/files/socialauth-spring-1.2-beta1.jar socialauth-spring-1.2-beta1.jar]</td>
  </tr>
  <tr>
    <td>Seam Application</td><td>[http://socialauth.googlecode.com/files/socialauth-1.2-beta1.jar socialauth-1.2-beta1.jar]</td><td>[http://socialauth.googlecode.com/files/dependencies-1.2.zip dependencies-1.2.zip]</td><td>[http://socialauth.googlecode.com/files/socialauth-seam-1.2-beta1.jar socialauth-seam-1.2-beta1.jar]</td>
  </tr>
</table>

*Note:* If you are not using OpenID provider, in that case you can remove commons-codec.jar,commons-httpclient-3.1.jar, openid4java.jar from dependencies folder.

If you are using Maven, you can configure the pom.xml as follows:
 * Add the repository 
{{{
<repository>
    <id>sonatype-oss-public</id>
    <url>https://oss.sonatype.org/content/groups/public/</url>
    <releases>
        <enabled>true</enabled>
    </releases>
</repository>
}}}
 * Add dependency of core library
{{{
<dependency>
    <groupId>org.brickred</groupId>
    <artifactId>socialauth</artifactId>
    <version>1.2-beta1</version>
</dependency>
}}}
 * Add Dependency for spring library if required
{{{
<dependency>
    <groupId>org.brickred</groupId>
    <artifactId>socialauth-spring</artifactId>
    <version>1.2-beta1</version>
</dependency>
}}}
 * Add Dependency for seam library if required
{{{
<dependency>
    <groupId>org.brickred</groupId>
    <artifactId>socialauth-seam</artifactId>
    <version>1.2-beta1</version>
</dependency>
}}}

== Step 3. Implementation ==

Using the socialauth.jar consists of two main steps:

  * User chooses provider - Create a page where you ask the user to choose a provider. When the user clicks on a provider, you should create an instance of the !AuthProvider in your handling code and redirect to the URL obtained by calling the function getLoginRedirectURL(). Remember to store it into the session.

{{{
  // id can have values "facebook", "twitter", "yahoo" etc. or the OpenID URL
  provider = AuthProviderFactory.getInstance(id);

  // URL of YOUR application which will be called after authentication
  String returnToUrl = "http://opensource.brickred.com/socialauthdemo/socialAuthSuccessAction.do";

  // Provider URL to which you should redirect for authentication
  String url = provider.getLoginRedirectURL(returnToUrl);

  // Store in session
  session.setAttribute("SocialAuth", provider);
}}}

  * Provider redirects back - When you redirect the user to the provider URL, the provider would validate the user, either by asking for username / password or by existing session and will then redirect the user back to you application URL mentioned above, i.e. "http://opensource.brickred.com/socialauthdemo/socialAuthSuccessAction.do". Now you can obtain any profile information using the following code

{{{

  // get the provider from session
  AuthProvider provider = (AuthProvider)session.getAttribute("SocialAuth");

  // verify the authentication
  Profile p = provider.verifyResponse(request);

  // you can obtain profile information
  System.out.println(p.getFirstName());

  // OR also obtain list of contacts
  List<Contact> contactsList = provider.getContactList();
		
}}}

That is all you have to do, really. We have the following tracks available on how to use SocialAuth with different frameworks.

 * [GettingStartedWithSeam Developing a JSF or JBoss Seam application using socialauth]
 * [GettingStartedWithYourOwnFramework  Developing a Struts application using socialauth]
 * [GettingStartedWithSpring Developing a Spring MVC application using socialauth]
 * [GettingStartedWithYourOwnFramework Not using any of the above frameworks]

If you are new to these frameworks or face issues in following the above guides, we also have step-by-step guides available.

 * [SeamSample  Step by Step JSF or JBoss Seam application using socialauth]
 * [StrutsSample Step by Step Struts application using socialauth]
 * [StepByStepGuideOfSpringExample  Step by Step Spring MVC application using socialauth]


Please keep in mind that all features may not be implemented in all providers, for example, you can’t update your status on Gmail and you can’t import contacts from Facebook yet. Some of the limitations are inherent, for example Twitter doesn’t give out the email address while giving other user details. 

Please [http://code.google.com/p/socialauth/issues/entry report any issues] and we promise to get back.